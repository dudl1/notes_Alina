import{a as F,f as D,c as Re,t as Qt}from"../chunks/DmGirFel.js";import"../chunks/BtS6hOu-.js";import{w as ne,g as _e,o as Ct,c as Jt}from"../chunks/CWtJTJW8.js";import{h as q,a as He,e as Zt,c as Ve,z as er,b as tr,l as g,W as rr,X as ar,Y as dt,s as ze,d as Se,C as nr,aJ as sr,av as ft,N as me,R as Ye,U as or,ae as ir,F as lr,aH as nt,aP as cr,aj as ut,aQ as dr,aR as fr,a3 as V,aS as ie,O as Rt,Q as Tt,aT as je,aG as ur,P as hr,g as vr,G as gr,V as mr,aU as pr,K as br,Z as It,j as ee,aV as yr,aW as wr,aX as xr,aB as At,aY as _r,$ as Ft,B as ye,aZ as Sr,a_ as Er,a$ as kr,b0 as $r,b1 as Cr,b2 as Rr,aM as Tr,_ as Ir,b3 as Ar,p as Le,w as _,x as w,a4 as I,t as de,m as Ee,v as De,b4 as Pt,y as P,b5 as Mt,b6 as Lt,q as Te,A as Ke,b7 as Fr}from"../chunks/DNtSXVTb.js";import{a as Pr,e as U,s as xe}from"../chunks/K5SX8SLA.js";import{p as Be,i as te,b as fe,s as ae,a as Oe}from"../chunks/DSy_hukL.js";import{h as Mr}from"../chunks/D3xK0UoA.js";import{i as Ue}from"../chunks/hK9qnMKt.js";function Lr(e,t){return t}function Dr(e,t,r){for(var a=[],s=t.length,n,o=t.length,i=0;i<s;i++){let h=t[i];Tt(h,()=>{if(n){if(n.pending.delete(h),n.done.add(h),n.pending.size===0){var u=e.outrogroups;Xe(nt(n.done)),u.delete(n),u.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var c=a.length===0&&r!==null;if(c){var l=r,d=l.parentNode;ur(d),d.append(l),e.items.clear()}Xe(t,!c)}else n={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(n)}function Xe(e,t=!0){for(var r=0;r<e.length;r++)hr(e[r],t)}var ht;function Dt(e,t,r,a,s,n=null){var o=e,i=new Map;{var c=e;o=q?He(Zt(c)):c.appendChild(Ve())}q&&er();var l=null,d=ir(()=>{var y=r();return lr(y)?y:y==null?[]:nt(y)}),h,u=!0;function p(){b.fallback=l,Or(b,h,o,t,a),l!==null&&(h.length===0?(l.f&ie)===0?Rt(l):(l.f^=ie,we(l,null,o)):Tt(l,()=>{l=null}))}var f=tr(()=>{h=g(d);var y=h.length;let m=!1;if(q){var v=rr(o)===ar;v!==(y===0)&&(o=dt(),He(o),ze(!1),m=!0)}for(var x=new Set,E=me,k=or(),$=0;$<y;$+=1){q&&Se.nodeType===nr&&Se.data===sr&&(o=Se,m=!0,ze(!1));var R=h[$],C=a(R,$),S=u?null:i.get(C);S?(S.v&&ft(S.v,R),S.i&&ft(S.i,$),k&&E.skipped_effects.delete(S.e)):(S=Ur(i,u?o:ht??=Ve(),R,C,$,s,t,r),u||(S.e.f|=ie),i.set(C,S)),x.add(C)}if(y===0&&n&&!l&&(u?l=Ye(()=>n(o)):(l=Ye(()=>n(ht??=Ve())),l.f|=ie)),q&&y>0&&He(dt()),!u)if(k){for(const[O,N]of i)x.has(O)||E.skipped_effects.add(N.e);E.oncommit(p),E.ondiscard(()=>{})}else p();m&&ze(!0),g(d)}),b={effect:f,items:i,outrogroups:null,fallback:l};u=!1,q&&(o=Se)}function Or(e,t,r,a,s){var n=t.length,o=e.items,i=e.effect.first,c,l=null,d=[],h=[],u,p,f,b;for(b=0;b<n;b+=1){if(u=t[b],p=s(u,b),f=o.get(p).e,e.outrogroups!==null)for(const C of e.outrogroups)C.pending.delete(f),C.done.delete(f);if((f.f&ie)!==0)if(f.f^=ie,f===i)we(f,null,r);else{var y=l?l.next:i;f===e.effect.last&&(e.effect.last=f.prev),f.prev&&(f.prev.next=f.next),f.next&&(f.next.prev=f.prev),oe(e,l,f),oe(e,f,y),we(f,y,r),l=f,d=[],h=[],i=l.next;continue}if((f.f&je)!==0&&Rt(f),f!==i){if(c!==void 0&&c.has(f)){if(d.length<h.length){var m=h[0],v;l=m.prev;var x=d[0],E=d[d.length-1];for(v=0;v<d.length;v+=1)we(d[v],m,r);for(v=0;v<h.length;v+=1)c.delete(h[v]);oe(e,x.prev,E.next),oe(e,l,x),oe(e,E,m),i=m,l=E,b-=1,d=[],h=[]}else c.delete(f),we(f,i,r),oe(e,f.prev,f.next),oe(e,f,l===null?e.effect.first:l.next),oe(e,l,f),l=f;continue}for(d=[],h=[];i!==null&&i!==f;)(c??=new Set).add(i),h.push(i),i=i.next;if(i===null)continue}(f.f&ie)===0&&d.push(f),l=f,i=f.next}if(e.outrogroups!==null){for(const C of e.outrogroups)C.pending.size===0&&(Xe(nt(C.done)),e.outrogroups?.delete(C));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||c!==void 0){var k=[];if(c!==void 0)for(f of c)(f.f&je)===0&&k.push(f);for(;i!==null;)(i.f&je)===0&&i!==e.fallback&&k.push(i),i=i.next;var $=k.length;if($>0){var R=n===0?r:null;Dr(e,k,R)}}}function Ur(e,t,r,a,s,n,o,i){var c=(o&dr)!==0?(o&fr)===0?V(r,!1,!1):ut(r):null,l=(o&cr)!==0?ut(s):null;return{v:c,i:l,e:Ye(()=>(n(t,c??r,l??s,i),()=>{e.delete(a)}))}}function we(e,t,r){if(e.nodes)for(var a=e.nodes.start,s=e.nodes.end,n=t&&(t.f&ie)===0?t.nodes.start:r;a!==null;){var o=vr(a);if(n.before(a),a===s)return;a=o}}function oe(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Nr=()=>performance.now(),Q={tick:e=>requestAnimationFrame(e),now:()=>Nr(),tasks:new Set};function Ot(){const e=Q.now();Q.tasks.forEach(t=>{t.c(e)||(Q.tasks.delete(t),t.f())}),Q.tasks.size!==0&&Q.tick(Ot)}function Ut(e){let t;return Q.tasks.size===0&&Q.tick(Ot),{promise:new Promise(r=>{Q.tasks.add(t={c:e,f:r})}),abort(){Q.tasks.delete(t)}}}function ke(e,t){At(()=>{e.dispatchEvent(new CustomEvent(t))})}function Hr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function vt(e){const t={},r=e.split(";");for(const a of r){const[s,n]=a.split(":");if(!s||n===void 0)break;const o=Hr(s.trim());t[o]=n.trim()}return t}const Vr=e=>e;function ce(e,t,r,a){var s=(e&wr)!==0,n=(e&xr)!==0,o=s&&n,i=(e&yr)!==0,c=o?"both":s?"in":"out",l,d=t.inert,h=t.style.overflow,u,p;function f(){return At(()=>l??=r()(t,a?.()??{},{direction:c}))}var b={is_global:i,in(){if(t.inert=d,!s){p?.abort(),p?.reset?.();return}n||u?.abort(),ke(t,"introstart"),u=Qe(t,f(),p,1,()=>{ke(t,"introend"),u?.abort(),u=l=void 0,t.style.overflow=h})},out(x){if(!n){x?.(),l=void 0;return}t.inert=!0,ke(t,"outrostart"),p=Qe(t,f(),u,0,()=>{ke(t,"outroend"),x?.()})},stop:()=>{u?.abort(),p?.abort()}},y=gr;if((y.nodes.t??=[]).push(b),s&&Pr){var m=i;if(!m){for(var v=y.parent;v&&(v.f&mr)!==0;)for(;(v=v.parent)&&(v.f&pr)===0;);m=!v||(v.f&br)!==0}m&&It(()=>{ee(()=>b.in())})}}function Qe(e,t,r,a,s){var n=a===1;if(_r(t)){var o,i=!1;return Ft(()=>{if(!i){var y=t({direction:n?"in":"out"});o=Qe(e,y,r,a,s)}}),{abort:()=>{i=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(r?.deactivate(),!t?.duration)return s(),{abort:ye,deactivate:ye,reset:ye,t:()=>a};const{delay:c=0,css:l,tick:d,easing:h=Vr}=t;var u=[];if(n&&r===void 0&&(d&&d(0,1),l)){var p=vt(l(0,1));u.push(p,p)}var f=()=>1-a,b=e.animate(u,{duration:c,fill:"forwards"});return b.onfinish=()=>{b.cancel();var y=r?.t()??1-a;r?.abort();var m=a-y,v=t.duration*Math.abs(m),x=[];if(v>0){var E=!1;if(l)for(var k=Math.ceil(v/16.666666666666668),$=0;$<=k;$+=1){var R=y+m*h($/k),C=vt(l(R,1-R));x.push(C),E||=C.overflow==="hidden"}E&&(e.style.overflow="hidden"),f=()=>{var S=b.currentTime;return y+m*h(S/v)},d&&Ut(()=>{if(b.playState!=="running")return!1;var S=f();return d(S,1-S),!0})}b=e.animate(x,{duration:v,fill:"forwards"}),b.onfinish=()=>{f=()=>a,d?.(a,1-a),s()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=ye)},deactivate:()=>{s=ye},reset:()=>{a===0&&d?.(1,0)},t:()=>f()}}function zr(e,t,r){var a=e==null?"":""+e;return a===""?null:a}function jr(e,t){return e==null?null:String(e)}function pe(e,t,r,a,s,n){var o=e.__className;if(q||o!==r||o===void 0){var i=zr(r);(!q||i!==e.getAttribute("class"))&&(i==null?e.removeAttribute("class"):e.className=i),e.__className=r}return n}function Nt(e,t,r,a){var s=e.__style;if(q||s!==t){var n=jr(t);(!q||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=t}return a}const Br=Symbol("is custom element"),Wr=Symbol("is html");function qr(e){if(q){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Ie(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var s=e.checked;Ie(e,"checked",null),e.checked=s}}};e.__on_r=r,Ft(r),Sr()}}function Ie(e,t,r,a){var s=Gr(e);q&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=r)&&(t==="loading"&&(e[Er]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Yr(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Gr(e){return e.__attributes??={[Br]:e.nodeName.includes("-"),[Wr]:e.namespaceURI===kr}}var gt=new Map;function Yr(e){var t=e.getAttribute("is")||e.nodeName,r=gt.get(t);if(r)return r;gt.set(t,r=[]);for(var a,s=e,n=Element.prototype;n!==s;){a=Cr(s);for(var o in a)a[o].set&&r.push(o);s=$r(s)}return r}function Je(e,t,r=t){var a=new WeakSet;Rr(e,"input",async s=>{var n=s?e.defaultValue:e.value;if(n=We(e)?qe(n):n,r(n),me!==null&&a.add(me),await Tr(),n!==(n=t())){var o=e.selectionStart,i=e.selectionEnd,c=e.value.length;if(e.value=n??"",i!==null){var l=e.value.length;o===i&&i===c&&l>c?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=o,e.selectionEnd=Math.min(i,l))}}}),(q&&e.defaultValue!==e.value||ee(t)==null&&e.value)&&(r(We(e)?qe(e.value):e.value),me!==null&&a.add(me)),Ir(()=>{var s=t();if(e===document.activeElement){var n=Ar??me;if(a.has(n))return}We(e)&&s===qe(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function We(e){var t=e.type;return t==="number"||t==="range"}function qe(e){return e===""?null:+e}const Kr=e=>e;function st(e){const t=e-1;return t*t*t+1}function Ae(e,{delay:t=0,duration:r=400,easing:a=Kr}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:n=>`opacity: ${n*s}`}}function Xr(e,{delay:t=0,duration:r=400,easing:a=st,axis:s="y"}={}){const n=getComputedStyle(e),o=+n.opacity,i=s==="y"?"height":"width",c=parseFloat(n[i]),l=s==="y"?["top","bottom"]:["left","right"],d=l.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),h=parseFloat(n[`padding${d[0]}`]),u=parseFloat(n[`padding${d[1]}`]),p=parseFloat(n[`margin${d[0]}`]),f=parseFloat(n[`margin${d[1]}`]),b=parseFloat(n[`border${d[0]}Width`]),y=parseFloat(n[`border${d[1]}Width`]);return{delay:t,duration:r,easing:a,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*o};${i}: ${m*c}px;padding-${l[0]}: ${m*h}px;padding-${l[1]}: ${m*u}px;margin-${l[0]}: ${m*p}px;margin-${l[1]}: ${m*f}px;border-${l[0]}-width: ${m*b}px;border-${l[1]}-width: ${m*y}px;min-${i}: 0`}}function Qr(e,{delay:t=0,duration:r=400,easing:a=st,start:s=0,opacity:n=0}={}){const o=getComputedStyle(e),i=+o.opacity,c=o.transform==="none"?"":o.transform,l=1-s,d=i*(1-n);return{delay:t,duration:r,easing:a,css:(h,u)=>`
			transform: ${c} scale(${1-l*u});
			opacity: ${i-d*u}
		`}}function mt(e,t){for(const r in t)e[r]=t[r];return e}function Jr({fallback:e,...t}){const r=new Map,a=new Map;function s(o,i,c){const{delay:l=0,duration:d=$=>Math.sqrt($)*30,easing:h=st}=mt(mt({},t),c),u=o.getBoundingClientRect(),p=i.getBoundingClientRect(),f=u.left-p.left,b=u.top-p.top,y=u.width/p.width,m=u.height/p.height,v=Math.sqrt(f*f+b*b),x=getComputedStyle(i),E=x.transform==="none"?"":x.transform,k=+x.opacity;return{delay:l,duration:typeof d=="function"?d(v):d,easing:h,css:($,R)=>`
			   opacity: ${$*k};
			   transform-origin: top left;
			   transform: ${E} translate(${R*f}px,${R*b}px) scale(${$+(1-$)*y}, ${$+(1-$)*m});
		   `}}function n(o,i,c){return(l,d)=>(o.set(d.key,l),()=>{if(i.has(d.key)){const h=i.get(d.key);return i.delete(d.key),s(h,l,d)}return o.delete(d.key),e&&e(l,d,c)})}return[n(a,r,!1),n(r,a,!0)]}const ot="sticky-notes-data",pt="sticky-notes-user";let Ht=!1;const Zr=()=>{if(typeof window>"u")return"demo-user-123";try{let e=localStorage.getItem(pt);return e||(e="demo-user-"+Math.random().toString(36).substring(2,9),localStorage.setItem(pt,e)),console.log("User ID:",e),e}catch{return"demo-user-123"}},ea=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(ot);if(e){const t=JSON.parse(e);return console.log("–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ localStorage:",t),t}}catch(e){console.error("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –∏–∑ localStorage:",e)}return null},Vt=e=>{if(!(typeof window>"u")&&Ht)try{localStorage.setItem(ot,JSON.stringify(e)),console.log("–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ localStorage:",e)}catch(t){console.error("–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ localStorage:",t)}},ta=e=>[],ra=typeof window<"u"?Zr():"demo-user-123",Ze=ne({id:ra}),Z=ne([]),K=ne(!1),X=ne(null),et=ne(null);Z.subscribe(e=>{Vt(e)});const Fe=[{bg:"bg-gradient-to-br from-pink-100 to-rose-200",text:"text-rose-800",border:"border-rose-300"},{bg:"bg-gradient-to-br from-blue-100 to-cyan-200",text:"text-blue-800",border:"border-blue-300"},{bg:"bg-gradient-to-br from-green-100 to-emerald-200",text:"text-emerald-800",border:"border-emerald-300"},{bg:"bg-gradient-to-br from-purple-100 to-violet-200",text:"text-violet-800",border:"border-violet-300"},{bg:"bg-gradient-to-br from-yellow-100 to-amber-200",text:"text-amber-800",border:"border-amber-300"},{bg:"bg-gradient-to-br from-indigo-100 to-blue-200",text:"text-indigo-800",border:"border-indigo-300"}],$e=ne([]),Ce=ne(!1),bt=ne(""),ue={async fetchNotes(e){K.set(!0),X.set(null);const t=e||_e(Ze).id;console.log("Fetching notes for user:",t);try{await new Promise(a=>setTimeout(a,300));const r=ea();if(r&&Array.isArray(r)&&r.length>0)console.log("–í—Å–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏:",r),Z.set(r);else{console.log("–°–æ–∑–¥–∞—ë–º mock –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è:",t);const a=ta(t);Z.set(a)}Ht=!0,Vt(_e(Z))}catch(r){X.set(r.message||"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–º–µ—Ç–æ–∫")}finally{K.set(!1)}},async addNote(e){K.set(!0),X.set(null);try{await new Promise(s=>setTimeout(s,200));const t=_e(Ze),r=Fe[Math.floor(Math.random()*Fe.length)],a={id:`note-${Date.now()}`,user_id:t.id,content:e.content,color_palette:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("–î–æ–±–∞–≤–ª—è–µ–º –∑–∞–º–µ—Ç–∫—É:",a),Z.update(s=>[a,...s])}catch(t){X.set(t.message||"–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏")}finally{K.set(!1)}},async updateNote(e,t){K.set(!0),X.set(null);try{await new Promise(r=>setTimeout(r,100)),Z.update(r=>r.map(a=>a.id===e?{...a,...t,updated_at:new Date().toISOString()}:a))}catch(r){X.set(r.message||"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏")}finally{K.set(!1)}},async deleteNote(e){K.set(!0),X.set(null);try{await new Promise(t=>setTimeout(t,100)),Z.update(t=>t.filter(r=>r.id!==e))}catch(t){X.set(t.message||"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏")}finally{K.set(!1)}},clearAllNotes(){Z.set([]),typeof window<"u"&&localStorage.removeItem(ot)},selectNoteForShare(e){et.set(e)},async searchNotes(e){K.set(!0),X.set(null);try{await new Promise(s=>setTimeout(s,150));const t=_e(Z);if(bt.set(e),!e||e.trim()==="")return Ce.set(!1),$e.set([]),t;Ce.set(!0);const r=e.toLowerCase().trim(),a=t.filter(s=>s.content.toLowerCase().includes(r));return $e.set(a),a}catch(t){return X.set(t.message||"–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –∑–∞–º–µ—Ç–æ–∫"),[]}finally{K.set(!1)}},async clearSearch(){Ce.set(!1),bt.set(""),$e.set([])}};function yt(e){return Object.prototype.toString.call(e)==="[object Date]"}function tt(e,t,r,a){if(typeof r=="number"||yt(r)){const s=a-r,n=(r-t)/(e.dt||1/60),o=e.opts.stiffness*s,i=e.opts.damping*n,c=(o-i)*e.inv_mass,l=(n+c)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(s)<e.opts.precision?a:(e.settled=!1,yt(r)?new Date(r.getTime()+l):r+l)}else{if(Array.isArray(r))return r.map((s,n)=>tt(e,t[n],r[n],a[n]));if(typeof r=="object"){const s={};for(const n in r)s[n]=tt(e,t[n],r[n],a[n]);return s}else throw new Error(`Cannot spring ${typeof r} values`)}}function rt(e,t={}){const r=ne(e),{stiffness:a=.15,damping:s=.8,precision:n=.01}=t;let o,i,c,l=e,d=e,h=1,u=0,p=!1;function f(y,m={}){d=y;const v=c={};return e==null||m.hard||b.stiffness>=1&&b.damping>=1?(p=!0,o=Q.now(),l=y,r.set(e=d),Promise.resolve()):(m.soft&&(u=1/((m.soft===!0?.5:+m.soft)*60),h=0),i||(o=Q.now(),p=!1,i=Ut(x=>{if(p)return p=!1,i=null,!1;h=Math.min(h+u,1);const E=Math.min(x-o,1e3/30),k={inv_mass:h,opts:b,settled:!0,dt:E*60/1e3},$=tt(k,l,e,d);return o=x,l=e,r.set(e=$),k.settled&&(i=null),!k.settled})),new Promise(x=>{i.promise.then(()=>{v===c&&x()})}))}const b={set:f,update:(y,m)=>f(y(d,e),m),subscribe:r.subscribe,stiffness:a,damping:s,precision:n};return b}var aa=D('<div class="space-y-4"><textarea class="w-full h-32 p-3 rounded-xl bg-white/80 backdrop-blur-sm border-2 border-white/50 focus:border-white/90 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none transition-all duration-300" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ü–∏—Ç–∞—Ç—ã..."></textarea> <div class="flex gap-3"><button class="flex-1 py-2 bg-white/90 hover:bg-white text-emerald-700 font-semibold rounded-xl transition-all duration-300 hover:scale-105 active:scale-95 shadow-md hover:shadow-lg">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button> <button class="flex-1 py-2 bg-white/90 hover:bg-white text-rose-700 font-semibold rounded-xl transition-all duration-300 hover:scale-105 active:scale-95 shadow-md hover:shadow-lg">–û—Ç–º–µ–Ω–∞</button></div></div>'),na=D('<div class="space-y-4"><p> </p> <div class="flex items-center justify-between pt-4 border-t border-white/30"><span class="text-sm opacity-70"> </span> <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"><button class="p-2 bg-white/80 hover:bg-white rounded-lg transition-all duration-300 hover:scale-110 active:scale-95" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É">‚úèÔ∏è</button> <button class="p-2 bg-white/80 hover:bg-white rounded-lg transition-all duration-300 hover:scale-110 active:scale-95" title="–£–¥–∞–ª–∏—Ç—å" aria-label="–£–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É">üóëÔ∏è</button> <button class="p-2 bg-white/80 hover:bg-white rounded-lg transition-all duration-300 hover:scale-110 active:scale-95" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" aria-label="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∑–∞–º–µ—Ç–∫–æ–π">üì§</button></div></div></div>'),sa=D('<div role="article" aria-label="–ó–∞–º–µ—Ç–∫–∞" class="relative group note-item transition-all duration-300 hover:scale-[1.02]"><div><!></div></div>');function oa(e,t){Le(t,!1);const r=()=>ae(u,"$scale",s),a=()=>ae(p,"$rotation",s),[s,n]=Oe();let o=Be(t,"note",8),i=Be(t,"isEditing",12,!1),c=Be(t,"editingText",12,""),l=V(!1),d=V(),h=V();const u=rt(1,{stiffness:.1,damping:.5}),p=rt(0,{stiffness:.2,damping:.4});Ct(()=>{u.set(g(l)?1.02:1),p.set(g(l)?.5:0)});const f=()=>{c(o().content),i(!0),setTimeout(()=>{g(h)&&g(h).focus()},100)},b=()=>{c().trim()&&(ue.updateNote(o().id,{content:c()}),i(!1))},y=()=>{i(!1)},m=()=>{ue.deleteNote(o().id)};Ue();var v=sa(),x=_(v),E=_(x);{var k=R=>{var C=aa(),S=_(C);Pt(S),fe(S,re=>I(h,re),()=>g(h));var O=P(S,2),N=_(O),z=P(N,2);w(O),w(C),Je(S,c),U("click",N,b),U("click",z,y),F(R,C)},$=R=>{var C=na(),S=_(C),O=_(S,!0);w(S);var N=P(S,2),z=_(N),re=_(z,!0);w(z);var A=P(z,2),M=_(A),T=P(M,2),L=P(T,2);w(A),w(N),w(C),de(G=>{pe(S,1,(Ee(o()),ee(()=>`text-lg font-medium leading-relaxed ${o().color_palette.text}`))),xe(O,(Ee(o()),ee(()=>o().content))),xe(re,G)},[()=>(Ee(o()),ee(()=>new Date(o().created_at).toLocaleDateString("ru-RU")))]),U("click",M,f),U("click",T,m),U("click",L,()=>ue.selectNoteForShare(o())),F(R,C)};te(E,R=>{i()?R(k):R($,!1)})}w(x),w(v),fe(v,R=>I(d,R),()=>g(d)),de(()=>{Nt(v,`transform: scale(${r()??""}) rotate(${a()??""}deg); transition: transform 0.2s ease-out;`),pe(x,1,(Ee(o()),ee(()=>`relative rounded-2xl p-6 shadow-lg ${o().color_palette.bg} ${o().color_palette.border} border-2 transition-all duration-300`)))}),U("mouseenter",v,()=>I(l,!0)),U("mouseleave",v,()=>I(l,!1)),ce(1,v,()=>Ae,()=>({duration:300})),ce(2,v,()=>Ae,()=>({duration:200})),F(e,v),De(),n()}var ia=D('<div class="w-full h-16 flex items-center justify-center gap-4 px-4"><button class="flex-1 h-12 flex items-center justify-center text-gray-600 hover:text-gray-900 text-lg font-medium transition-all duration-300 bg-white/50 hover:bg-white/80 rounded-xl border border-white/50 hover:border-gray-200 hover:shadow-md" style="font-size: 17px" aria-label="–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å">‚ú® –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</button> <button class="h-12 w-12 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-all duration-300 bg-white/50 hover:bg-white/80 rounded-xl border border-white/50 hover:border-gray-200 hover:shadow-md hover:scale-105 active:scale-95" aria-label="–ü–æ–∏—Å–∫ –∑–∞–ø–∏—Å–µ–π" title="–ü–æ–∏—Å–∫ –∑–∞–ø–∏—Å–µ–π"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button></div>'),la=D('<button class="h-12 w-12 flex items-center justify-center text-gray-500 hover:text-red-500 transition-all duration-300 bg-white/50 hover:bg-red-50 rounded-xl border border-white/50 hover:border-red-200" aria-label="–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–∏—Å–∫" title="–û—á–∏—Å—Ç–∏—Ç—å"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),ca=D('<div class="w-full h-20 flex items-center gap-3 px-4"><div class="flex-1 relative"><input type="text" class="w-full h-12 pl-12 pr-4 rounded-xl bg-white/80 backdrop-blur-sm border-2 border-white/50 focus:border-blue-400/50 focus:outline-none focus:ring-2 focus:ring-blue-400/30 transition-all duration-300 placeholder-gray-400" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø–∏—Å—è–º..."/> <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <!> <button class="h-12 w-12 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-all duration-300 bg-white/50 hover:bg-white/80 rounded-xl border border-white/50 hover:border-gray-200" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø–æ–∏—Å–∫" title="–ó–∞–∫—Ä—ã—Ç—å"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg></button></div>'),da=D("<button></button>"),fa=D('<div class="p-6 space-y-6"><div class="space-y-4"><h3 class="text-xl font-bold text-gray-800">–ù–æ–≤–∞—è —Ü–∏—Ç–∞—Ç–∞</h3> <textarea class="w-full h-40 p-4 rounded-xl bg-white/80 backdrop-blur-sm border-2 border-white/50 focus:border-blue-400/50 focus:outline-none focus:ring-2 focus:ring-blue-400/30 resize-none transition-all duration-300 placeholder-gray-400" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞—à–µ–π —Ü–∏—Ç–∞—Ç—ã..."></textarea></div> <div class="space-y-4"><h4 class="font-semibold text-gray-700">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É:</h4> <div class="grid grid-cols-6 gap-3"></div></div> <div class="flex gap-4"><button class="flex-1 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 shadow-lg hover:shadow-xl">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–∏—Ç–∞—Ç—É</button> <button class="px-6 py-3 bg-white/80 hover:bg-white text-gray-700 font-semibold rounded-xl transition-all duration-300 hover:scale-105 active:scale-95 border-2 border-gray-200">–°–≤–µ—Ä–Ω—É—Ç—å</button></div></div>'),ua=D('<div class="sticky top-4 z-10"><div class="bg-gradient-to-br from-white/90 to-gray-100/90 backdrop-blur-xl shadow-2xl border-2 border-white/50 overflow-hidden rounded-2xl"><!></div></div>');function ha(e,t){Le(t,!1);const r=()=>ae(f,"$formHeight",a),[a,s]=Oe(),n=Jt();let o=V(""),i=V(Fe[0]),c=V(!1),l=V(!1),d=V(""),h=V(),u=V(),p=V(),f=rt(68,{stiffness:.05,damping:.5});const b=async()=>{g(o).trim()&&(await ue.addNote({content:g(o).trim(),color_palette:g(i)}),I(o,""),I(c,!1))},y=()=>{I(c,!g(c)),I(l,!1),I(d,""),g(c)&&g(u)&&setTimeout(()=>{g(u).focus()},300)},m=()=>{I(l,!g(l)),I(c,!1),g(l)&&g(p)?setTimeout(()=>{g(p).focus()},100):(I(d,""),n("search",""))},v=()=>{ue.searchNotes(g(d))},x=()=>{I(d,""),ue.clearSearch(),I(l,!1)};Mt(()=>(g(c),g(l)),()=>{g(c)?f.set(440):g(l)?f.set(85):f.set(68)}),Lt(),Ue();var E=ua(),k=_(E),$=_(k);{var R=S=>{var O=ia(),N=_(O),z=P(N,2);w(O),U("click",N,y),U("click",z,m),F(S,O)},C=S=>{var O=Re(),N=Te(O);{var z=A=>{var M=ca(),T=_(M),L=_(T);qr(L),fe(L,H=>I(p,H),()=>g(p)),Ke(2),w(T);var G=P(T,2);{var Y=H=>{var se=la();U("click",se,x),F(H,se)};te(G,H=>{g(d)&&H(Y)})}var J=P(G,2);w(M),Je(L,()=>g(d),H=>I(d,H)),U("input",L,v),U("keydown",L,H=>H.key==="Escape"&&x()),U("click",J,m),ce(3,M,()=>Xr,()=>({duration:200})),F(A,M)},re=A=>{var M=fa(),T=_(M),L=P(_(T),2);Pt(L),fe(L,B=>I(u,B),()=>g(u)),w(T);var G=P(T,2),Y=P(_(G),2);Dt(Y,5,()=>Fe,Lr,(B,he,ct)=>{var be=da();Ie(be,"title",`–¶–≤–µ—Ç ${ct+1}`),Ie(be,"aria-label",`–í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É ${ct+1}`),de(()=>pe(be,1,(g(he),g(i),ee(()=>`h-10 rounded-lg border-2 transition-all duration-300 ${g(he).bg} ${g(i)===g(he)?"border-gray-800 scale-110":"border-transparent hover:scale-105"}`)))),U("click",be,()=>I(i,g(he))),F(B,be)}),w(Y),w(G);var J=P(G,2),H=_(J),se=P(H,2);w(J),w(M),de(B=>H.disabled=B,[()=>(g(o),ee(()=>!g(o).trim()))]),Je(L,()=>g(o),B=>I(o,B)),U("click",H,b),U("click",se,y),F(A,M)};te(N,A=>{g(l)?A(z):A(re,!1)},!0)}F(S,O)};te($,S=>{!g(c)&&!g(l)?S(R):S(C,!1)})}w(k),w(E),fe(E,S=>I(h,S),()=>g(h)),de(()=>Nt(k,`height: ${r()??""}px; transition: border-radius 0.4s ease-in-out;`)),ce(1,E,()=>Ae,()=>({duration:500})),F(e,E),De(),s()}function va(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),a=r.createElement("base"),s=r.createElement("a");return r.head.appendChild(a),r.body.appendChild(s),t&&(a.href=t),s.href=e,s.href}const ga=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function le(e){const t=[];for(let r=0,a=e.length;r<a;r++)t.push(e[r]);return t}let ve=null;function zt(e={}){return ve||(e.includeStyleProperties?(ve=e.includeStyleProperties,ve):(ve=le(window.getComputedStyle(document.documentElement)),ve))}function Pe(e,t){const a=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return a?parseFloat(a.replace("px","")):0}function ma(e){const t=Pe(e,"border-left-width"),r=Pe(e,"border-right-width");return e.clientWidth+t+r}function pa(e){const t=Pe(e,"border-top-width"),r=Pe(e,"border-bottom-width");return e.clientHeight+t+r}function jt(e,t={}){const r=t.width||ma(e),a=t.height||pa(e);return{width:r,height:a}}function ba(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const W=16384;function ya(e){(e.width>W||e.height>W)&&(e.width>W&&e.height>W?e.width>e.height?(e.height*=W/e.width,e.width=W):(e.width*=W/e.height,e.height=W):e.width>W?(e.height*=W/e.width,e.width=W):(e.width*=W/e.height,e.height=W))}function Me(e){return new Promise((t,r)=>{const a=new Image;a.onload=()=>{a.decode().then(()=>{requestAnimationFrame(()=>t(a))})},a.onerror=r,a.crossOrigin="anonymous",a.decoding="async",a.src=e})}async function wa(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function xa(e,t,r){const a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),n=document.createElementNS(a,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${r}`),s.setAttribute("viewBox",`0 0 ${t} ${r}`),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("externalResourcesRequired","true"),s.appendChild(n),n.appendChild(e),wa(s)}const j=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||j(r,t)};function _a(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Sa(e,t){return zt(t).map(r=>{const a=e.getPropertyValue(r),s=e.getPropertyPriority(r);return`${r}: ${a}${s?" !important":""};`}).join(" ")}function Ea(e,t,r,a){const s=`.${e}:${t}`,n=r.cssText?_a(r):Sa(r,a);return document.createTextNode(`${s}{${n}}`)}function wt(e,t,r,a){const s=window.getComputedStyle(e,r),n=s.getPropertyValue("content");if(n===""||n==="none")return;const o=ga();try{t.className=`${t.className} ${o}`}catch{return}const i=document.createElement("style");i.appendChild(Ea(o,r,s,a)),t.appendChild(i)}function ka(e,t,r){wt(e,t,":before",r),wt(e,t,":after",r)}const xt="application/font-woff",_t="image/jpeg",$a={woff:xt,woff2:xt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:_t,jpeg:_t,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Ca(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function it(e){const t=Ca(e).toLowerCase();return $a[t]||""}function Ra(e){return e.split(/,/)[1]}function at(e){return e.search(/^(data:)/)!==-1}function Ta(e,t){return`data:${t};base64,${e}`}async function Bt(e,t,r){const a=await fetch(e,t);if(a.status===404)throw new Error(`Resource "${a.url}" not found`);const s=await a.blob();return new Promise((n,o)=>{const i=new FileReader;i.onerror=o,i.onloadend=()=>{try{n(r({res:a,result:i.result}))}catch(c){o(c)}},i.readAsDataURL(s)})}const Ge={};function Ia(e,t,r){let a=e.replace(/\?.*/,"");return r&&(a=e),/ttf|otf|eot|woff2?/i.test(a)&&(a=a.replace(/.*\//,"")),t?`[${t}]${a}`:a}async function lt(e,t,r){const a=Ia(e,t,r.includeQueryParams);if(Ge[a]!=null)return Ge[a];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const n=await Bt(e,r.fetchRequestInit,({res:o,result:i})=>(t||(t=o.headers.get("Content-Type")||""),Ra(i)));s=Ta(n,t)}catch(n){s=r.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;n&&(o=typeof n=="string"?n:n.message),o&&console.warn(o)}return Ge[a]=s,s}async function Aa(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Me(t)}async function Fa(e,t){if(e.currentSrc){const n=document.createElement("canvas"),o=n.getContext("2d");n.width=e.clientWidth,n.height=e.clientHeight,o?.drawImage(e,0,0,n.width,n.height);const i=n.toDataURL();return Me(i)}const r=e.poster,a=it(r),s=await lt(r,a,t);return Me(s)}async function Pa(e,t){var r;try{if(!((r=e?.contentDocument)===null||r===void 0)&&r.body)return await Ne(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Ma(e,t){return j(e,HTMLCanvasElement)?Aa(e):j(e,HTMLVideoElement)?Fa(e,t):j(e,HTMLIFrameElement)?Pa(e,t):e.cloneNode(Wt(e))}const La=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Wt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Da(e,t,r){var a,s;if(Wt(t))return t;let n=[];return La(e)&&e.assignedNodes?n=le(e.assignedNodes()):j(e,HTMLIFrameElement)&&(!((a=e.contentDocument)===null||a===void 0)&&a.body)?n=le(e.contentDocument.body.childNodes):n=le(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),n.length===0||j(e,HTMLVideoElement)||await n.reduce((o,i)=>o.then(()=>Ne(i,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function Oa(e,t,r){const a=t.style;if(!a)return;const s=window.getComputedStyle(e);s.cssText?(a.cssText=s.cssText,a.transformOrigin=s.transformOrigin):zt(r).forEach(n=>{let o=s.getPropertyValue(n);n==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),j(e,HTMLIFrameElement)&&n==="display"&&o==="inline"&&(o="block"),n==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),a.setProperty(n,o,s.getPropertyPriority(n))})}function Ua(e,t){j(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),j(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Na(e,t){if(j(e,HTMLSelectElement)){const a=Array.from(t.children).find(s=>e.value===s.getAttribute("value"));a&&a.setAttribute("selected","")}}function Ha(e,t,r){return j(t,Element)&&(Oa(e,t,r),ka(e,t,r),Ua(e,t),Na(e,t)),t}async function Va(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const a={};for(let n=0;n<r.length;n++){const i=r[n].getAttribute("xlink:href");if(i){const c=e.querySelector(i),l=document.querySelector(i);!c&&l&&!a[i]&&(a[i]=await Ne(l,t,!0))}}const s=Object.values(a);if(s.length){const n="http://www.w3.org/1999/xhtml",o=document.createElementNS(n,"svg");o.setAttribute("xmlns",n),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const i=document.createElementNS(n,"defs");o.appendChild(i);for(let c=0;c<s.length;c++)i.appendChild(s[c]);e.appendChild(o)}return e}async function Ne(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(a=>Ma(a,t)).then(a=>Da(e,a,t)).then(a=>Ha(e,a,t)).then(a=>Va(a,t))}const qt=/url\((['"]?)([^'"]+?)\1\)/g,za=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ba(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Wa(e){const t=[];return e.replace(qt,(r,a,s)=>(t.push(s),r)),t.filter(r=>!at(r))}async function qa(e,t,r,a,s){try{const n=r?va(t,r):t,o=it(t);let i;return s||(i=await lt(n,o,a)),e.replace(Ba(t),`$1${i}$3`)}catch{}return e}function Ga(e,{preferredFontFormat:t}){return t?e.replace(ja,r=>{for(;;){const[a,,s]=za.exec(r)||[];if(!s)return"";if(s===t)return`src: ${a};`}}):e}function Gt(e){return e.search(qt)!==-1}async function Yt(e,t,r){if(!Gt(e))return e;const a=Ga(e,r);return Wa(a).reduce((n,o)=>n.then(i=>qa(i,o,t,r)),Promise.resolve(a))}async function ge(e,t,r){var a;const s=(a=t.style)===null||a===void 0?void 0:a.getPropertyValue(e);if(s){const n=await Yt(s,null,r);return t.style.setProperty(e,n,t.style.getPropertyPriority(e)),!0}return!1}async function Ya(e,t){await ge("background",e,t)||await ge("background-image",e,t),await ge("mask",e,t)||await ge("-webkit-mask",e,t)||await ge("mask-image",e,t)||await ge("-webkit-mask-image",e,t)}async function Ka(e,t){const r=j(e,HTMLImageElement);if(!(r&&!at(e.src))&&!(j(e,SVGImageElement)&&!at(e.href.baseVal)))return;const a=r?e.src:e.href.baseVal,s=await lt(a,it(a),t);await new Promise((n,o)=>{e.onload=n,e.onerror=t.onImageErrorHandler?(...c)=>{try{n(t.onImageErrorHandler(...c))}catch(l){o(l)}}:o;const i=e;i.decode&&(i.decode=n),i.loading==="lazy"&&(i.loading="eager"),r?(e.srcset="",e.src=s):e.href.baseVal=s})}async function Xa(e,t){const a=le(e.childNodes).map(s=>Kt(s,t));await Promise.all(a).then(()=>e)}async function Kt(e,t){j(e,Element)&&(await Ya(e,t),await Ka(e,t),await Xa(e,t))}function Qa(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const a=t.style;return a!=null&&Object.keys(a).forEach(s=>{r[s]=a[s]}),e}const St={};async function Et(e){let t=St[e];if(t!=null)return t;const a=await(await fetch(e)).text();return t={url:e,cssText:a},St[e]=t,t}async function kt(e,t){let r=e.cssText;const a=/url\(["']?([^"')]+)["']?\)/g,n=(r.match(/url\([^)]+\)/g)||[]).map(async o=>{let i=o.replace(a,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),Bt(i,t.fetchRequestInit,({result:c})=>(r=r.replace(o,`url(${c})`),[o,c]))});return Promise.all(n).then(()=>r)}function $t(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let a=e.replace(r,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=s.exec(a);if(c===null)break;t.push(c[0])}a=a.replace(s,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(o,"gi");for(;;){let c=n.exec(a);if(c===null){if(c=i.exec(a),c===null)break;n.lastIndex=i.lastIndex}else i.lastIndex=n.lastIndex;t.push(c[0])}return t}async function Ja(e,t){const r=[],a=[];return e.forEach(s=>{if("cssRules"in s)try{le(s.cssRules||[]).forEach((n,o)=>{if(n.type===CSSRule.IMPORT_RULE){let i=o+1;const c=n.href,l=Et(c).then(d=>kt(d,t)).then(d=>$t(d).forEach(h=>{try{s.insertRule(h,h.startsWith("@import")?i+=1:s.cssRules.length)}catch(u){console.error("Error inserting rule from remote css",{rule:h,error:u})}})).catch(d=>{console.error("Error loading remote css",d.toString())});a.push(l)}})}catch(n){const o=e.find(i=>i.href==null)||document.styleSheets[0];s.href!=null&&a.push(Et(s.href).then(i=>kt(i,t)).then(i=>$t(i).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",n)}}),Promise.all(a).then(()=>(e.forEach(s=>{if("cssRules"in s)try{le(s.cssRules||[]).forEach(n=>{r.push(n)})}catch(n){console.error(`Error while reading CSS rules from ${s.href}`,n)}}),r))}function Za(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Gt(t.style.getPropertyValue("src")))}async function en(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=le(e.ownerDocument.styleSheets),a=await Ja(r,t);return Za(a)}function Xt(e){return e.trim().replace(/["']/g,"")}function tn(e){const t=new Set;function r(a){(a.style.fontFamily||getComputedStyle(a).fontFamily).split(",").forEach(n=>{t.add(Xt(n))}),Array.from(a.children).forEach(n=>{n instanceof HTMLElement&&r(n)})}return r(e),t}async function rn(e,t){const r=await en(e,t),a=tn(e);return(await Promise.all(r.filter(n=>a.has(Xt(n.style.fontFamily))).map(n=>{const o=n.parentStyleSheet?n.parentStyleSheet.href:null;return Yt(n.cssText,o,t)}))).join(`
`)}async function an(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await rn(e,t);if(r){const a=document.createElement("style"),s=document.createTextNode(r);a.appendChild(s),e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a)}}async function nn(e,t={}){const{width:r,height:a}=jt(e,t),s=await Ne(e,t,!0);return await an(s,t),await Kt(s,t),Qa(s,t),await xa(s,r,a)}async function sn(e,t={}){const{width:r,height:a}=jt(e,t),s=await nn(e,t),n=await Me(s),o=document.createElement("canvas"),i=o.getContext("2d"),c=t.pixelRatio||ba(),l=t.canvasWidth||r,d=t.canvasHeight||a;return o.width=l*c,o.height=d*c,t.skipAutoScale||ya(o),o.style.width=`${l}`,o.style.height=`${d}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,o.width,o.height)),i.drawImage(n,0,0,o.width,o.height),o}async function on(e,t={}){return(await sn(e,t)).toDataURL()}var ln=D('<span class="flex items-center gap-2"><span class="animate-spin">‚è≥</span> –°–æ–∑–¥–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...</span>'),cn=D('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm" role="dialog" aria-label="–î–∏–∞–ª–æ–≥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"><div class="relative w-full max-w-2xl"><div class="bg-gradient-to-br from-white to-gray-50 rounded-3xl shadow-2xl border-2 border-white/50 overflow-hidden"><div class="p-6 border-b border-gray-200/50 bg-gradient-to-r from-purple-50 to-pink-50"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><div class="text-3xl">üåü</div> <h2 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ü–∏—Ç–∞—Ç–æ–π</h2></div> <button class="p-2 hover:bg-white/50 rounded-xl transition-all duration-300 hover:scale-110 active:scale-95 text-gray-500 hover:text-gray-700" aria-label="–ó–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥"><span class="text-2xl">√ó</span></button></div></div> <div class="p-8 space-y-8"><div><p> </p> <div class="mt-6 pt-6 border-t border-white/30 text-center"><span> </span></div></div> <div class="space-y-6"><div class="text-center space-y-4"><p class="text-gray-600">–°–æ–∑–¥–∞–π –∫—Ä–∞—Å–∏–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π</p> <button class="px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></div></div></div></div></div>');function dn(e,t){Le(t,!1);const r=()=>ae(et,"$selectedNoteForShare",a),[a,s]=Oe();let n=V(),o=V(!1);const i=()=>{et.set(null)},c=async()=>{I(o,!0);try{const u=await on(g(n),{pixelRatio:2,backgroundColor:"white"}),p=document.createElement("a");p.href=u,p.download=`quote-${Date.now()}.png`,p.click()}catch(u){console.error(u),alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ")}finally{I(o,!1)}};Ue();var l=Re(),d=Te(l);{var h=u=>{var p=cn(),f=_(p),b=_(f),y=_(b),m=_(y),v=P(_(m),2);w(m),w(y);var x=P(y,2),E=_(x),k=_(E),$=_(k,!0);w(k);var R=P(k,2),C=_(R),S=_(C);w(C),w(R),w(E),fe(E,T=>I(n,T),()=>g(n));var O=P(E,2),N=_(O),z=P(_(N),2),re=_(z);{var A=T=>{var L=ln();F(T,L)},M=T=>{var L=Qt("üé® –°–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ");F(T,L)};te(re,T=>{g(o)?T(A):T(M,!1)})}w(z),w(N),w(O),w(x),w(b),w(f),w(p),de(T=>{pe(E,1,`rounded-2xl p-8 shadow-lg ${r().color_palette.bg} ${r().color_palette.border} border-2`),pe(k,1,`text-2xl font-medium text-center leading-relaxed ${r().color_palette.text}`),xe($,r().content),pe(C,1,`text-sm opacity-70 ${r().color_palette.text}`),xe(S,`–¶–∏—Ç–∞—Ç—ã –ê–ª–∏–Ω—ã ‚ù§Ô∏è ${T??""}`),z.disabled=g(o)},[()=>new Date(r().created_at).toLocaleDateString()]),U("click",v,i),U("click",z,c),ce(3,f,()=>Qr,()=>({duration:300})),ce(3,p,()=>Ae,()=>({duration:300})),F(u,p)};te(d,u=>{r()&&u(h)})}F(e,l),De(),s()}var fn=D(`<meta name="description" content="–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∞—Å–æ—á–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏"/> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/> <style>@keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }</style>`,1),un=D('<div class="mb-8 p-6 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-2xl shadow-xl animate-pulse"><div class="flex items-center gap-3"><span class="text-2xl">‚ö†Ô∏è</span> <span class="font-semibold"> </span></div></div>'),hn=D('<div class="text-center py-12"><div class="inline-block animate-spin text-4xl mb-4">üåÄ</div> <p class="text-white/80 text-lg">–ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∞—à–∏ –∑–∞–º–µ—Ç–∫–∏...</p></div>'),vn=D('<div class="text-center py-12 animate-pulse"><div class="text-6xl mb-6">üìù</div> <h3 class="text-2xl font-semibold text-white mb-3">–ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç</h3> <p class="text-white/70">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Ü–∏—Ç–∞—Ç—É!</p></div>'),gn=D('<div class="note-item transition-all duration-300 hover:scale-[1.02]"><!></div>'),mn=D('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),pn=D('<div class="min-h-screen"><header class="pt-8 pb-12"><div class="text-center mb-8" style="animation: float 3s ease-in-out infinite;"><div class="text-5xl mb-4">‚ú®</div> <h1 class="text-5xl font-bold bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent">–¶–∏—Ç–∞—Ç–Ω–∏–∫</h1> <p class="text-xl text-white/80 mt-4">–î–æ–±–∞–≤—å –±–æ–ª—å—à–µ –∑–∞–≤–æ—Ä–∞–∂–∏–≤–∞—é—â–∏—Ö —Ü–∏—Ç–∞—Ç</p></div></header> <main class="container mx-auto px-4 max-w-6xl"><div class="mb-12"><!></div> <!> <div class="space-y-6 pb-20"><!></div></main> <!> <footer class="fixed bottom-0 left-0 right-0 py-4 bg-white/10 backdrop-blur-sm border-t border-white/20"><div class="container mx-auto px-4 text-center"><p class="text-white/60">–¶–∏—Ç–∞—Ç—ã –ê–ª–∏–Ω—É—à–∫–∏ ‚ù§Ô∏è</p></div></footer></div>'),bn=D('<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-500 to-pink-500"><div class="text-center"><div class="text-5xl mb-4 animate-pulse">‚ú®</div> <h1 class="text-3xl font-bold text-white">–¶–∏—Ç–∞—Ç–Ω–∏–∫</h1> <p class="text-white/70 mt-2">–ó–∞–≥—Ä—É–∑–∫–∞...</p></div></div>');function Cn(e,t){Le(t,!1);const r=()=>ae(Ce,"$isSearchActive",i),a=()=>ae($e,"$filteredNotes",i),s=()=>ae(Z,"$notes",i),n=()=>ae(X,"$error",i),o=()=>ae(K,"$loading",i),[i,c]=Oe(),l=V();let d=V(),h=V(!1);const[u,p]=Jr({duration:300});Ct(()=>{if(I(h,typeof window<"u"),g(h)){const v="demo-user-"+Math.random().toString(36).substr(2,9);Ze.set({id:v}),ue.fetchNotes(v)}}),Mt(()=>(r(),a(),s()),()=>{I(l,r()?a():s())}),Lt(),Ue();var f=Re();Mr("1uha8ag",v=>{var x=fn();Ke(4),It(()=>{Fr.title="Color Notes - –ö—Ä–∞—Å–æ—á–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏"}),F(v,x)});var b=Te(f);{var y=v=>{var x=pn(),E=P(_(x),2),k=_(E),$=_(k);ha($,{}),w(k);var R=P(k,2);{var C=A=>{var M=un(),T=_(M),L=P(_(T),2),G=_(L);w(L),w(T),w(M),de(()=>xe(G,`–û—à–∏–±–∫–∞: ${n()??""}`)),F(A,M)};te(R,A=>{n()&&A(C)})}var S=P(R,2),O=_(S);{var N=A=>{var M=hn();F(A,M)},z=A=>{var M=Re(),T=Te(M);{var L=Y=>{var J=vn();F(Y,J)},G=Y=>{var J=mn();Dt(J,5,()=>g(l),H=>H.id,(H,se)=>{var B=gn(),he=_(B);oa(he,{get note(){return g(se)}}),w(B),ce(1,B,()=>p,()=>({key:g(se).id})),ce(2,B,()=>u,()=>({key:g(se).id})),F(H,B)}),w(J),F(Y,J)};te(T,Y=>{s(),ee(()=>s().length===0)?Y(L):Y(G,!1)},!0)}F(A,M)};te(O,A=>{o(),s(),ee(()=>o()&&s().length===0)?A(N):A(z,!1)})}w(S),w(E);var re=P(E,2);dn(re,{}),Ke(2),w(x),fe(x,A=>I(d,A),()=>g(d)),F(v,x)},m=v=>{var x=bn();F(v,x)};te(b,v=>{g(h)?v(y):v(m,!1)})}F(e,f),De(),c()}export{Cn as component};
